#### How many agents you can use in ansible / With how many agents you work in ansible
  - Ansible is agentless. (Agentless: No agents required on managed nodes, only SSH and Python.)
  - 
#### Explain Ansible Architecture


- Ansible's architecture is designed to be simple and agentless, making it easy to deploy and manage. Here's an overview of its key components and how they interact:
-Key Components
- Control Node:
The machine where Ansible is installed and from which you run your automation scripts (playbooks).
Requires only SSH access to the managed nodes and Python installed on them.
- Managed Nodes:
The target machines that Ansible manages.
No need for Ansible to be installed on these nodes; only SSH and Python are required.
- Inventory:
A file or script that lists the managed nodes (hosts).
Can be static (a simple list of IPs or hostnames) or dynamic (generated by a script that queries an external source).
- Modules:
Units of work that Ansible executes on managed nodes.
Examples include yum, apt, copy, file, and service.
Can be written in any language that returns JSON, but Python is the most common.
- Plugins:
Extend Ansible's core functionality.
Types include action plugins, callback plugins, connection plugins, and more.
- Playbooks:
YAML files that define a series of tasks to be executed on managed nodes.
Each playbook consists of one or more plays, which map hosts to roles.
- Roles:
A way to group tasks, handlers, files, templates, and variables.
Used to organize complex playbooks.
- Handlers:
Tasks that are triggered by the notify directive in other tasks.
Typically used to restart services.
- Facts:
Information about the managed nodes collected by Ansible.
Can be accessed in playbooks and templates.
- Vars:
Variables that can be defined in playbooks, roles, or inventory.
Used to customize tasks and templates.
Workflow
- Initialization:
The control node reads the inventory file and playbooks.
The control node connects to managed nodes over SSH.
- Execution:
The control node sends modules to the managed nodes.
The modules are executed on the managed nodes.
Results are sent back to the control node.
- Configuration Management:
Playbooks orchestrate the execution of tasks in a defined order.
Tasks can include installing packages, copying files, configuring services, and more.

#### 3. Interview important playbooks
 ###### Multi-OS
â€”
- hosts: all
  become: yes
   tasks:
  - name: Install Apache on Ubuntu
    apt: name=apache2 state=present
    when: ansible_os_family == "Debian"
    ignore_errors: True

  - name: Install httpd on RedHat
    yum: name=httpd state=present
    when: ansible_os_family == "RedHat"
    ignore_errors: True

###### Handler playbook
---
 - name: Handlers Example
   hosts: webservers
   gather_facts: false
   tasks:
     - name: Install httpd latest version
       yum:
         name: httpd
         state: latest
       become: true
       notify: restart_httpd

   handlers:
     - name: restart_httpd
       become: true
       service:
         name: httpd
         state: started

#### 4. What is the default Inventory path ? How can you change the path of the Inventory
The default inventory file is typically located at /etc/ansible/hosts. This file contains information about the hosts (servers) that Ansible will manage.
Changing the Inventory Path
Command Line Option:
ansible-playbook -i /path/to/inventory playbook.yml
Environment Variable:
export ANSIBLE_INVENTORY=/path/to/inventory
ansible-playbook playbook.yml
Configuration File (ansible.cfg):
Create or modify ansible.cfg:

[defaults]
inventory = /path/to/inventory

#### 5. What is Role ? Explain some Roles
Role : A role is a way to organize related tasks, variables, files, templates, and other resources in a structured manner. Roles provide a reusable and modular approach to managing configuration and deployment tasks
defaults: Contains default variables for roles. Variables defined here have the lowest precedence, meaning they can be easily overridden by other variable definitions.
files: Stores static files that can be deployed to remote hosts. These files can be copied as-is using the copy module or referenced in tasks.
handlers: Contains tasks that are triggered by other tasks using the notify directive. Handlers typically perform actions like restarting services and are executed at the end of a playbook run.
meta: Holds metadata for roles, including dependencies on other roles, author information, and role version. The main file here is usually main.yml.
tasks: Contains the main list of tasks to be executed by the role. The main entry file is main.yml, and additional task files can be included using include or import directives.
templates: Contains Jinja2 templates that can be rendered and deployed to remote hosts. Templates are processed and variables are replaced with their values during deployment.
tests: Used for testing roles. This folder can include sample playbooks, inventory files, or other test-related files to ensure the role functions correctly.
vars: Stores variable files that define higher precedence variables for roles. These variables can override those defined in the defaults directory.

#### 6. What are modules ? Explain some modules
Modules are the units of work that perform tasks on the remote hosts. They are the building blocks of Ansible's functionality, allowing you to manage system resources, configurations, applications, and services. Modules can be written in any language that can return JSON, but Python is the most common.
ping: Tests the connection between Ansible and the target host. It's often used to verify that the host is reachable and ready for further tasks.
file: Manages file and directory properties, such as permissions, ownership, and the presence or absence of a file or directory.
apt: Manages packages with the apt package manager, used primarily on Debian-based systems like Ubuntu.
yum: Manages packages with the yum package manager, used primarily on Red Hat-based systems like CentOS and Fedora.
copy: Copies files from the local machine to remote hosts.
template: Processes files using Jinja2 templates and copies the resulting files to remote hosts.
user: Manages user accounts on remote hosts.
package: An abstract module that works with various package managers (like apt, yum, etc.) to install, update, or remove packages.
service: Manages services on remote hosts, allowing you to start, stop, restart, and enable/disable services.
firewalld: Configures the firewalld firewall on remote hosts.
archive: Creates archive files (like tar or zip) from files on remote hosts.
unarchive: Extracts archive files (like tar or zip) on remote hosts.
shell: Executes shell commands on remote hosts.
command: Executes commands on remote hosts but does not process through the shell. It's safer than the shell module for executing system commands.
debug: Prints statements during playbook execution for debugging purposes.
lineinfile: Ensures a particular line is present (or absent) in a file.
fetch: Fetches files from remote hosts and saves them to the local machine.

#### 7. How  can you take backup of Ansible master
Taking backup of server
Taking backup of ansible home directory by archiving the directory
All playbooks are in remote repo(github) so they will automatically backup the playbook.

8.How can you distribute tasks on Ansible?
9. Extra module in Ansible 
10. Callback plugin in Ansible
11. Custom module and core module.


